<div ng-controller="ResultsSubmitController">

	<form ng-submit="submitResults()">
		<section style="margin-left:.25em;">
		<div>
			<md-input-container>
			<label>Enter your email address</label>
			<input autofocus autocomplete="on" type="email"
				ng-model="email" ng-change="fixturesForEmail(email)" size="50"
				required >
			</md-input-container>
		</div>
		<div ng-if="preSubmission.fixtures"  layout="column">
			<md-content>
			<md-subheader class="md-primary">{{preSubmission.fixtures.start | date :'dd MMMM yyyy'}} : {{preSubmission.fixtures.description}} - {{preSubmission.fixtures.fixtures[0].home.name}} : {{preSubmission.fixtures.fixtures[0].away.name}}</md-subheader>

			<div ng-repeat="result in results">
				
				<span class="md-accent">{{result.compType.description}}</span>
				<div layout="row" layout-sm="column" padding>
					
					<md-input-container>
						<label>{{result.result.fixture.home.shortName}} - Home</label>
						<input min="1"  type="number" ng-model="result.result.homeScore" ng-disabled="preSubmission.results[0].result.homeScore" >
					</md-input-container>
					<md-input-container>
						<label>{{result.result.fixture.away.shortName}} - Away</label>
						<input min="1" type="number" ng-model="result.result.awayScore" ng-disabled="preSubmission.results[0].result.homeScore" >
					</md-input-container>
				
				</div>
			
			</div>

			<md-input-container>
					<label>Report</label>
				<textarea cols="60" rows="10"
					ng-model="results[0].result.reports[0].text.text"></textarea>
			</md-input-container>
			</md-content>
			<div class="md-actions">
				<md-button ng-disabled="isInvalid()" type="submit" class="md-primary md-raised">Submit</md-button>
			</div>

		</div>
	</section>
	</form>

</div>
